<!DOCTYPE html>
<html>
	<head>
		<title>Jogo da cobrinha</title>
	</head>

	<body>
		<canvas id="gameCanvas" width="300" height="300">
			&lt;
		</canvas>

		<script type="text/javascript">

			/* ----------------- FUNÇÕES ---------------------- */

			function desenhoDaParteDaCobrinha(ParteDaCobrinha) {
				contexto.fillStyle = 'yellow';
				contexto.strokestyle = 'darkgreen';

				contexto.fillRect(ParteDaCobrinha.x, ParteDaCobrinha.y, 10, 10);
				contexto.strokeRect(ParteDaCobrinha.x, ParteDaCobrinha.y, 10, 10);
			}

			function desenharCobrinha() {
				cobrinha.forEach(desenhoDaParteDaCobrinha);
			}

			function avancoDaCobrinha() {
				const cabeca = {x: cobrinha[0].x + dx, y: cobrinha[0].y + dy};
				cobrinha.unshift(cabeca)

				cobrinha.pop();
			}

			function limparCanvas() {

				contexto.fillStyle = 'white';
				contexto.strokestyle = 'black';

				contexto.fillRect(0, 0, gameCanvas.width, gameCanvas.height);
				contexto.strokeRect(0, 0, gameCanvas.width, gameCanvas.height);
			}

			function main() {
				setTimeout(function onTick() {
					limparCanvas();
					avancoDaCobrinha();
					desenharCobrinha();

					main();
				}, 100)
			}

			/* -------------------CONSTANTES---------------------- */

			let cobrinha = [
				{x: 150, y: 150},
				{x: 140, y: 150},
				{x: 130, y: 150},
				{x: 120, y: 150},
				{x: 110, y: 150}
			];

			let dx = 10;
			let dy = 0;

			/* ----------------------------------------------------*/

			var gameCanvas = document.getElementById("gameCanvas");
			var contexto = gameCanvas.getContext("2d");

			main()


		</script>
	</body>
</html>